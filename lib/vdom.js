!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vdom=t():e.vdom=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";n.r(t);var r=function(){},o=function(e){return[].concat.apply([],e)};function u(e,t){var n=new r;n.tagName=e,n.attrs=t||{};for(var u=arguments.length,c=new Array(u>2?u-2:0),i=2;i<u;i++)c[i-2]=arguments[i];return n.children=o(c),n}var c=n(0),i=n.n(c),a="CREATE",f="REPLACE",l="UPDATE",d="REMOVE",p=function(e){return void 0===e||null===e},y=function(e,t){for(var n=[],r=Math.max(e.children.length,t.children.length),o=0;o<r;o++)n[o]=b(e.children[o],t.children[o]);return n},s=function(e,t){var n=[],r=e.attrs,o=t.attrs,u=Object.assign({},r,o);return Object.keys(u).map(function(e){var t=r[e],u=o[e];t!==u&&n.push({type:"SET_PROP",key:e,value:u}),u||n.push({type:"REMOVE_PROP",key:e})}),n},m=function(e,t){return"object"!==i()(e)&&e!==t||"object"!==i()(t)&&e!==t||e.tagName!==t.tagName};function b(e,t){return p(e)?{type:a,newVNode:t}:p(t)?{type:d}:m(e,t)?{type:f,newVNode:t}:t.tagName?{type:l,children:y(e,t),attrs:s(e,t)}:void 0}function v(e,t,n){"className"===t&&(t="class"),e.setAttribute(t,n)}function h(e,t){"className"===t&&(t="class"),e.removeAttribute(t)}function g(e){if("object"!==i()(e))return document.createTextNode(e);var t=document.createElement(e.tagName);return function(e,t){Object.keys(t).forEach(function(n){v(e,n,t[n])})}(t,e.attrs),e.children.map(g).forEach(t.appendChild.bind(t)),t}function S(e,t){return(t="string"==typeof t?document.querySelector(t):t).appendChild(g(e))}var w=function(e,t){var n=!0,r=!1,o=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var i=u.value,a=i.type,f=i.key;"SET_PROP"===a&&v(e,f,i.value),"REMOVE_PROP"===a&&h(e,f)}}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}};function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t){var r=(e="string"==typeof e?document.querySelector(e):e).childNodes[n];switch(t.type){case a:var o=g(t.newVNode);e.appendChild(o);break;case f:var u=g(t.newVNode);e.replaceChild(u,r);break;case d:e.removeChild(r);break;case l:var c=t.attrs,i=t.children;w(r,c);if(i.length>1e3){var p=null;!function e(t){var n="切片-".concat(t,": ");console.time(n);for(var o=i.slice(1e3*t,1e3*(t+1)),u=0;u<1e3;u++)E(r,o[u],u+1e3*t);if(console.timeEnd(n),t>=Math.ceil(i.length/1e3))return cancelIdleCallback(p);t++,p=window.requestIdleCallback(function(){return e(t)})}(0)}else for(var y=0,s=i.length;y<s;y++)E(r,i[y],y)}}}n.d(t,"h",function(){return u}),n.d(t,"diff",function(){return b}),n.d(t,"patch",function(){return E}),n.d(t,"render",function(){return S});var O={h:u,diff:b,patch:E,render:S};window&&"undefined"!=typeof window&&(window.vdom=O);t.default=O}])});